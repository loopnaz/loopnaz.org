/**
 * @file Defines a template for rendering localized versions of logo SVGs
 * @author Reuben L. Lillie <rlillie@loopnaz.org>
 * @since 2.0.0
 * @see {@link https://www.11ty.dev/docs/languages/javascript/#function JavaScript functions as templates in Eleventy}
 * @see {@link https://www.11ty.dev/docs/data/ Using data in Eleventy}
 * @see {@link https://www.11ty.dev/docs/layout-chaining/ Layout chaining in Eleventy}
 */

/** @type {Object} Acts as front matter data in JavaScript templates */
export var data = {
  /**
   * Set width to accommodate the wordmark by default
   * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox `viewBox` on MDN}
   */
  viewBox: '0 0 1080 256',
  eleventyComputed: {
    permalink: data => `img/${data.lang}/logo.svg`
  }
}

/**
 * Localize the logo SVG
 * @param {Object} data Eleventyâ€™s `data` object
 * @returns {string} SVG
 */
export function render(data) {
  /** @type {Object} Destructured template data */
  var {
    colors: {
      white: {100: {hex: iconColor}},
      gray: {700: {hex: wordmarkColor}},
      red: {700: {hex: starColor}}
    },
    content,
    lang,
    meta: {domain},
    page,
    viewBox
  } = data

  /** @type {Object} Localized strings, for example, in `-data/en.js` */
  var locale = data[lang]

  /** @type {string} Localized id for */
  var id = `${domain}-logo-${lang}`

  return `<!--./_layouts/logo.11ty.js-->
<svg
  id="${id}"
  viewBox="${viewBox}"
  aria-labelledby="${id}-title"
  xmlns="http://www.w3.org/2000/svg">
  <title id="${id}-title">${locale.logoAlt}</title>
  <g id="${id}-icon">
    <path d="M.033 64.082 85.04 83.699 110.608 0l25.568 83.699 85.007-19.617-59.506 63.754 59.506 64.083-85.007-19.617-25.6 83.699-25.568-83.699L0 191.919l59.506-63.754z" fill="${starColor}"/>
    <path d="M77.787 162.21c5.093 0 14.521.012 23.223-.048 10.458-.074 19.593.077 20.177.077.067 0 .314.143.353.284.147.525.12 1.669-.062 2.22a.409.409 0 0 1-.29.3c-.493.005-43.825 0-44.24 0-.19 0 .322-2.439.427-2.602.074-.116.212-.185.412-.23m-19.764 0H64.2c.09 0 .866.011 1.045.011 1.055 0 .245 2.413.168 2.573-.192.258-1.113.19-1.207.19h-6.182c-.192-.024-.43-.151-.438-.233-.015-.167-.015-2.081-.015-2.246 0-.203.262-.268.455-.297m67.348.004h41.772c.631 0 2.853-.047 3.293.048.48.11.39 2.59-.123 2.753-.489.061-33.71.011-44.977.011-.205-.023-.337-.19-.39-.271-.107-.167-.09-2.14 0-2.313.104-.196.254-.202.425-.23m-18.34-85.344c-8.396 12.487-3.471 21.467-2.747 22.642 3.351 5.419 11.446 8.359 22.292 16.775 1.073.833 10.485 9.888 10.074 19.432-.021.91-.113 1.558.041 1.512 2.372-.713 9.877-12.314 3.514-22.904-4.125-6.865-18.768-16.514-18.84-16.558-1.297-.753 3.95.315 8.107 2.324 7.252 3.505 34.333 19.922 6.837 44.448-4.437 3.956-11.589 12.361-12.932 13.623-.21.225-.292.048-.33-.012-1.449-2.417-.666-12.365-16.996-12.387-8.383-.011-20.345.465-30.766-3.602-18.973-7.406-17.95-22.555-16.52-28.702 1.564-8.394 8.78-11.083 8.67-10.548-.712 3.43-4.376 14.741.235 23.156 9.323 19.085 32.667 11.912 46.21 16.555 9.844 3.375 9.288 8.84 10.187 10.534.372.7 3.503-3.861 5.457-7.674 2.524-4.917 2.158-13.058-1.175-19.088-1.552-2.808-6.215-7.71-18.691-15.226-25.674-15.47-4.306-35.293-2.627-34.3M72.074 90.78c-.116-4.042 3.746-11.056 3.746-8.737 0 2.42-5.049 18.162 22.446 36.017.302.18.418.553.171.553-11.106.041-16.93-4.24-20.923-7.254-4.361-3.637-5.9-7.44-6.396-8.973-.294-.815.164-.557.256-.426 2.128 3.088 8.148 9.811 12.829 10.938.14.03-12.403-9.474-12.13-22.119m40.15 15.752c-7.311-4.637-9.829-4.515-8.779-14.177.829-5.618 3.274-8.913 4.323-10.135.541-.678.614-.174.498-.006-8.326 18.332 4.219 24.724 3.959 24.317m11.979 37.41c.802 1.167-.047 2.857-1.834.769-.622-.734-1.135-1.637-.632-1.822.505-.189 1.901.227 2.466 1.054m-13.891-38.457c4.772 2.019 7.309-4.706 4.284-8.486-.53-.746.45-.446.853-.252 1.586.765 4.608 2.51 6.397 6.637 1.215 2.808-.409 7.069-2.88 7.938-2.303-1.124-7.187-3.319-8.654-5.837M59.51 157.397c2.018-.39 8.02-1.032 12.806-2.033 12.865-2.69 29.885-7.49 37.34-5.705 7.213 1.726 10.607 7.68 11.477 9.486.256.53-.28.523-.28.523H59.07s-.856-.002-.9-.487c-.03-.32-.315-1.46 1.342-1.784m110.34 1.227c-.09-.202-.443-.652-.846-.726-1.436-.256-5.67-.817-9.056-1.608-9.098-2.128-20.549-6.173-25.758-4.524-4.514 1.433-7.778 6.053-8.761 7.514-.256.38.198.413.198.413h43.737s.246-.012.303-.048c.063-.041.236-.122.236-.3.004-.132.041-.553-.052-.72m-102.61 3.616c-.323 3.71-1.752 5.933-3.478 7.648-.526.524-1.8 1.41-1.846 1.41.447.409 5.475.26 5.95.26.18.775-.092 2.038-.926 4.817 3.107-.29 6.715-3.206 7.544-6.79.23-.99.624-2.248.793-3.4.292-1.976.698-3.88.698-3.945h-8.734m5.646 3.424-.165.536c-.042.136-.135.255-.198.255l-1.549-.011-1.025 3.331c-.028.089-.18.17-.32.168l-.564-.005c-.142 0-.244-.083-.217-.171l1.025-3.333-1.545-.011c-.064 0-.084-.12-.042-.255l.164-.538c.043-.134.136-.254.2-.253l1.546.012.475-1.543c.028-.089.18-.169.32-.167l.565.005c.141 0 .243.082.215.171L71.3 165.4l1.547.012c.064 0 .084.122.042.255zm-18.39-2.129v-.476h.407c.155 0 .252.095.252.238 0 .127-.097.238-.252.238h-.408m-.263.743c0 .041.034.08.08.08h.107c.048 0 .08-.035.08-.08v-.5h.31l.235.52c.01.025.039.06.074.06h.14c.062 0 .102-.061.073-.114l-.252-.494a.442.442 0 0 0 .34-.453c0-.315-.256-.47-.515-.47h-.592a.078.078 0 0 0-.08.078zm-.727-.682c0-.693.561-1.248 1.25-1.248a1.25 1.25 0 1 1-1.25 1.248m-.25 0a1.5 1.5 0 0 0 1.5 1.5c.828 0 1.504-.672 1.504-1.5 0-.827-.676-1.505-1.504-1.505-.829 0-1.5.678-1.5 1.505" fill="${iconColor}"/>
  </g>
  ${content.length > 0
    ? `<!--${page.inputPath}-->
    <path aria-label="${locale.siteName}"
      d="${content}" fill="${wordmarkColor}"/>`
    : `<!--No additional content in ${page.inputPath}-->`
  }
</svg>`
}
